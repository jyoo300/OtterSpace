{"ast":null,"code":"var _jsxFileName = \"/Users/johnyoo/Desktop/OtterSpace/src/components/DashboardSection.js\";\nimport React, { useState, useEffect } from \"react\";\nimport Section from \"./Section\";\nimport Container from \"react-bootstrap/Container\";\nimport Row from \"react-bootstrap/Row\";\nimport Col from \"react-bootstrap/Col\";\nimport Card from \"react-bootstrap/Card\";\nimport Button from \"react-bootstrap/Button\";\nimport Modal from \"react-bootstrap/Modal\";\nimport Form from \"react-bootstrap/Form\";\nimport { LinkContainer } from \"react-router-bootstrap\";\nimport SectionHeader2 from \"./SectionHeader2\";\nimport HomeSelector from \"./HomeSelector\";\nimport { useAuth } from \"./../util/auth.js\";\nimport \"./DashboardSection.scss\";\nimport firebase from \"./../util/firebase\";\nimport SidebarSection from \"./SidebarSection\"; // Firebase variables\n\nvar db = firebase.firestore();\nvar postsRef = db.collection(\"posts\").orderBy('datePosted'); // Post Data\n\nvar userName = \"\";\nvar userImage = \"\";\nvar userClass = \"\";\nvar userId = \"\";\nvar userSchool = \"\";\nvar postTitle = \"\";\nvar postDescription = \"\";\nvar postIndustry = \"\";\n\nclass DashboardSection extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.showCreate = () => {\n      this.setState({\n        createPost: true\n      });\n    };\n\n    this.hideCreate = () => {\n      this.setState({\n        createPost: false\n      });\n    };\n\n    this.hideCard = () => {\n      this.setState({\n        isHidden: true\n      });\n      var userRef = db.collection(\"users\").doc(this.state.user.uid);\n    };\n\n    this.handleSubmit = event => {\n      event.preventDefault();\n\n      if (postTitle === \"\" || postDescription === \"\" || postIndustry === \"\") {\n        alert('Missing fields!');\n      } else {\n        db.collection(\"posts\").add({\n          body: postDescription,\n          class: userClass,\n          image: userImage,\n          name: userName,\n          tag: postIndustry,\n          title: postTitle,\n          university: userSchool,\n          datePosted: new Date(),\n          userId: userId\n        }).then(function (docRef) {\n          window.location.reload(false);\n          console.log(\"Document written with ID: \", docRef.id);\n        }).catch(function (error) {\n          console.error(\"Error adding document: \", error);\n        });\n      }\n    };\n\n    this.changeTitleHandler = event => {\n      postTitle = event.target.value;\n    };\n\n    this.changeDescriptionHandler = event => {\n      postDescription = event.target.value;\n    };\n\n    this.changeIndustryHandler = event => {\n      postIndustry = event.target.value;\n    };\n\n    this.changeOrderFilter = event => {\n      this.setState({\n        orderFilter: event.target.value\n      });\n    };\n\n    this.state = {\n      isHidden: false,\n      createPost: false,\n      posts: [],\n      user: firebase.auth().currentUser,\n      orderFilter: \"Newest to oldest\"\n    };\n  }\n\n  componentDidMount() {\n    // firebase methods\n    postsRef.get().then(querySnapshot => {\n      let posts = [];\n      querySnapshot.forEach(doc => {\n        posts.push(doc.data());\n        console.log(doc.data().datePosted.toDate());\n      });\n\n      if (this.state.orderFilter === \"Newest to oldest\") {\n        posts = posts.reverse();\n      }\n\n      this.setState({\n        posts: posts\n      });\n    });\n    var userRef = db.collection(\"users\").doc(this.state.user.uid);\n    userRef.get().then(function (doc) {\n      if (doc.exists) {\n        userClass = doc.data().year;\n        userSchool = doc.data().school;\n        userName = doc.data().name;\n        userImage = doc.data().image;\n        userId = doc.data().uid;\n      } else {\n        console.log(\"No such document!\");\n      }\n    }).catch(function (error) {\n      console.log(\"Error getting document:\", error);\n    });\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(Section, {\n      bg: this.props.bg,\n      textColor: this.props.textColor,\n      size: this.props.size,\n      bgImage: this.props.bgImage,\n      bgImageOpacity: this.props.bgImageOpacity,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 140,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(Container, {\n      fluid: true,\n      sticky: \"top\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 147,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(Row, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 148,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(Col, {\n      xs: 3,\n      md: 2,\n      className: \"d-none d-sm-block\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 149,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(SidebarSection, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 150,\n        columnNumber: 29\n      }\n    })), /*#__PURE__*/React.createElement(Col, {\n      xs: 6,\n      md: 7,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 152,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(Card, {\n      className: \"w-100 bg-purple mb-3\",\n      hidden: this.state.isHidden,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 153,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(Card.Body, {\n      className: \"text-center\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 154,\n        columnNumber: 33\n      }\n    }, /*#__PURE__*/React.createElement(Card.Title, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 155,\n        columnNumber: 37\n      }\n    }, /*#__PURE__*/React.createElement(\"h4\", {\n      className: \"DashboardSection__create-workspace-title\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 156,\n        columnNumber: 41\n      }\n    }, \"Work with other students on projects\")), /*#__PURE__*/React.createElement(Card.Text, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 160,\n        columnNumber: 37\n      }\n    }, /*#__PURE__*/React.createElement(\"p\", {\n      className: \"DashboardSection__create-workspace-text\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 161,\n        columnNumber: 41\n      }\n    }, \"Find projects to work on with other students - filtered by industry and interests\")), /*#__PURE__*/React.createElement(LinkContainer, {\n      to: \"/workspace/kanban\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 166,\n        columnNumber: 37\n      }\n    }, /*#__PURE__*/React.createElement(Button, {\n      variant: \"light\",\n      size: \"md\",\n      className: \"px-4\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 167,\n        columnNumber: 41\n      }\n    }, /*#__PURE__*/React.createElement(\"span\", {\n      className: \"DashboardSection__done-button\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 168,\n        columnNumber: 45\n      }\n    }, \"Next\"))), /*#__PURE__*/React.createElement(Col, {\n      xs: 12,\n      className: \"mt-2\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 171,\n        columnNumber: 37\n      }\n    }, /*#__PURE__*/React.createElement(LinkContainer, {\n      to: \"#\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 172,\n        columnNumber: 41\n      }\n    }, /*#__PURE__*/React.createElement(Card.Link, {\n      onClick: this.hideCard,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 173,\n        columnNumber: 45\n      }\n    }, /*#__PURE__*/React.createElement(\"span\", {\n      className: \"DashboardSection__skip-for-now\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 174,\n        columnNumber: 49\n      }\n    }, \"Skip for now\")))))), /*#__PURE__*/React.createElement(SectionHeader2, {\n      title: this.props.title,\n      subtitle: this.props.subtitle,\n      size: 1,\n      spaced: true,\n      className: \"text-left\",\n      onClick: this.showCreate,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 182,\n        columnNumber: 29\n      }\n    }), /*#__PURE__*/React.createElement(Modal, {\n      show: this.state.createPost,\n      onHide: this.hideCreate,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 190,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(Form, {\n      onSubmit: this.handleSubmit,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 191,\n        columnNumber: 33\n      }\n    }, /*#__PURE__*/React.createElement(Form.Row, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 192,\n        columnNumber: 37\n      }\n    }, /*#__PURE__*/React.createElement(Col, {\n      xs: 10,\n      className: \"ml-4 mt-3\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 193,\n        columnNumber: 41\n      }\n    }, /*#__PURE__*/React.createElement(Form.Group, {\n      controlId: \"post_title\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 194,\n        columnNumber: 45\n      }\n    }, /*#__PURE__*/React.createElement(Form.Control, {\n      type: \"text\",\n      placeholder: \"I am looking for...\",\n      onChange: this.changeTitleHandler,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 195,\n        columnNumber: 49\n      }\n    }))), /*#__PURE__*/React.createElement(Col, {\n      xs: 10,\n      className: \"ml-4\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 202,\n        columnNumber: 41\n      }\n    }, /*#__PURE__*/React.createElement(Form.Group, {\n      controlId: \"post_description\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 203,\n        columnNumber: 45\n      }\n    }, /*#__PURE__*/React.createElement(Form.Control, {\n      type: \"text\",\n      placeholder: \"Type a description...\",\n      as: \"textarea\",\n      rows: 4,\n      onChange: this.changeDescriptionHandler,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 204,\n        columnNumber: 49\n      }\n    }))), /*#__PURE__*/React.createElement(Col, {\n      xs: 10,\n      className: \"ml-4\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 213,\n        columnNumber: 41\n      }\n    }, /*#__PURE__*/React.createElement(Form.Group, {\n      controlId: \"post_industry\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 214,\n        columnNumber: 45\n      }\n    }, /*#__PURE__*/React.createElement(Form.Control, {\n      as: \"select\",\n      defaultValue: \"Select an industry\",\n      onChange: this.changeIndustryHandler,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 215,\n        columnNumber: 49\n      }\n    }, /*#__PURE__*/React.createElement(\"option\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 220,\n        columnNumber: 53\n      }\n    }, \"Select an industry\"), /*#__PURE__*/React.createElement(\"option\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 221,\n        columnNumber: 53\n      }\n    }, \"Web Dev\"), /*#__PURE__*/React.createElement(\"option\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 222,\n        columnNumber: 53\n      }\n    }, \"Design\"), /*#__PURE__*/React.createElement(\"option\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 223,\n        columnNumber: 53\n      }\n    }, \"Product Management\"))))), /*#__PURE__*/React.createElement(Form.Row, {\n      className: \"mb-3\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 228,\n        columnNumber: 37\n      }\n    }, /*#__PURE__*/React.createElement(Col, {\n      xs: 12,\n      className: \"text-right\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 229,\n        columnNumber: 41\n      }\n    }, /*#__PURE__*/React.createElement(Button, {\n      variant: \"purple\",\n      size: \"md\",\n      className: \"px-4 mr-4\",\n      type: \"submit\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 230,\n        columnNumber: 45\n      }\n    }, /*#__PURE__*/React.createElement(\"span\", {\n      className: \"DashboardSection__post\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 236,\n        columnNumber: 49\n      }\n    }, \"Post\")))))), /*#__PURE__*/React.createElement(HomeSelector, {\n      items: this.state.posts,\n      changeOrderFilter: this.changeOrderFilter,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 242,\n        columnNumber: 29\n      }\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"mt-5 mx-auto text-center\",\n      style: {\n        maxWidth: \"460px\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 246,\n        columnNumber: 29\n      }\n    })), /*#__PURE__*/React.createElement(Col, {\n      className: \"d-none d-sm-block\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 254,\n        columnNumber: 25\n      }\n    }))));\n  }\n\n}\n\nexport default DashboardSection;","map":{"version":3,"sources":["/Users/johnyoo/Desktop/OtterSpace/src/components/DashboardSection.js"],"names":["React","useState","useEffect","Section","Container","Row","Col","Card","Button","Modal","Form","LinkContainer","SectionHeader2","HomeSelector","useAuth","firebase","SidebarSection","db","firestore","postsRef","collection","orderBy","userName","userImage","userClass","userId","userSchool","postTitle","postDescription","postIndustry","DashboardSection","Component","constructor","props","showCreate","setState","createPost","hideCreate","hideCard","isHidden","userRef","doc","state","user","uid","handleSubmit","event","preventDefault","alert","add","body","class","image","name","tag","title","university","datePosted","Date","then","docRef","window","location","reload","console","log","id","catch","error","changeTitleHandler","target","value","changeDescriptionHandler","changeIndustryHandler","changeOrderFilter","orderFilter","posts","auth","currentUser","componentDidMount","get","querySnapshot","forEach","push","data","toDate","reverse","exists","year","school","render","bg","textColor","size","bgImage","bgImageOpacity","subtitle","maxWidth"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport Section from \"./Section\";\nimport Container from \"react-bootstrap/Container\";\nimport Row from \"react-bootstrap/Row\";\nimport Col from \"react-bootstrap/Col\";\nimport Card from \"react-bootstrap/Card\";\nimport Button from \"react-bootstrap/Button\";\nimport Modal from \"react-bootstrap/Modal\";\nimport Form from \"react-bootstrap/Form\";\nimport { LinkContainer } from \"react-router-bootstrap\";\nimport SectionHeader2 from \"./SectionHeader2\";\nimport HomeSelector from \"./HomeSelector\";\nimport { useAuth } from \"./../util/auth.js\";\nimport \"./DashboardSection.scss\";\nimport firebase from \"./../util/firebase\";\nimport SidebarSection from \"./SidebarSection\";\n\n// Firebase variables\nvar db = firebase.firestore();\nvar postsRef = db.collection(\"posts\").orderBy('datePosted');\n\n// Post Data\nvar userName = \"\";\nvar userImage = \"\";\nvar userClass = \"\";\nvar userId = \"\";\nvar userSchool = \"\";\nvar postTitle = \"\";\nvar postDescription = \"\";\nvar postIndustry = \"\";\n\nclass DashboardSection extends React.Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            isHidden: false,\n            createPost: false,\n            posts: [],\n            user: firebase.auth().currentUser,\n            orderFilter: \"Newest to oldest\",\n        };\n    };\n\n    componentDidMount() {\n        // firebase methods\n        postsRef.get().then((querySnapshot) => {\n            let posts = [];\n            querySnapshot.forEach((doc) => {\n              posts.push(doc.data());\n              console.log(doc.data().datePosted.toDate());\n            });\n            if(this.state.orderFilter === \"Newest to oldest\") {\n                posts = posts.reverse();\n            }\n            this.setState({posts: posts});\n        });\n        var userRef = db.collection(\"users\").doc(this.state.user.uid);\n        userRef.get().then(function(doc) {\n            if (doc.exists) {\n                userClass = doc.data().year;\n                userSchool = doc.data().school;\n                userName = doc.data().name;\n                userImage = doc.data().image;\n                userId = doc.data().uid;\n            } else {\n                console.log(\"No such document!\");\n            }\n          }).catch(function(error) {\n            console.log(\"Error getting document:\", error);\n          });\n    }\n\n    showCreate = () => {\n        this.setState({\n            createPost: true,\n        });\n    };\n\n    hideCreate = () => {\n        this.setState({\n            createPost: false,\n        });\n    };\n\n    hideCard = () => {\n        this.setState({\n            isHidden: true,\n        });\n        var userRef = db.collection(\"users\").doc(this.state.user.uid);\n    };\n\n    \n    handleSubmit = (event) => {\n        event.preventDefault();\n        if (postTitle === \"\" || postDescription === \"\" || postIndustry === \"\") {\n            alert('Missing fields!');\n        }\n        else {\n            db.collection(\"posts\").add({\n                body: postDescription,\n                class: userClass,\n                image: userImage,\n                name: userName,\n                tag: postIndustry,\n                title: postTitle,\n                university: userSchool,\n                datePosted: new Date(),\n                userId: userId,\n            })\n                .then(function (docRef) {\n                    window.location.reload(false);\n                    console.log(\"Document written with ID: \", docRef.id);\n                })\n                .catch(function (error) {\n                    console.error(\"Error adding document: \", error);\n                });\n        }\n    };\n\n    changeTitleHandler = (event) => {\n        postTitle = event.target.value;\n    }\n\n    changeDescriptionHandler = (event) => {\n        postDescription = event.target.value;\n    }\n\n    changeIndustryHandler = (event) => {\n        postIndustry = event.target.value;\n    }\n\n    changeOrderFilter = (event) => {\n        this.setState({\n            orderFilter: event.target.value\n        });\n    }\n    \n    render() {\n        return (\n            <Section\n                bg={this.props.bg}\n                textColor={this.props.textColor}\n                size={this.props.size}\n                bgImage={this.props.bgImage}\n                bgImageOpacity={this.props.bgImageOpacity}\n            >\n                <Container fluid={true} sticky=\"top\">\n                    <Row>\n                        <Col xs={3} md={2} className=\"d-none d-sm-block\">\n                            <SidebarSection></SidebarSection>\n                        </Col>\n                        <Col xs={6} md={7}>\n                            <Card className=\"w-100 bg-purple mb-3\" hidden={this.state.isHidden}>\n                                <Card.Body className=\"text-center\">\n                                    <Card.Title>\n                                        <h4 className=\"DashboardSection__create-workspace-title\">\n                                            Work with other students on projects\n                  </h4>\n                                    </Card.Title>\n                                    <Card.Text>\n                                        <p className=\"DashboardSection__create-workspace-text\">\n                                            Find projects to work on with other students - filtered by\n                                            industry and interests\n                  </p>\n                                    </Card.Text>\n                                    <LinkContainer to=\"/workspace/kanban\">\n                                        <Button variant=\"light\" size=\"md\" className=\"px-4\">\n                                            <span className=\"DashboardSection__done-button\">Next</span>\n                                        </Button>\n                                    </LinkContainer>\n                                    <Col xs={12} className=\"mt-2\">\n                                        <LinkContainer to=\"#\">\n                                            <Card.Link onClick={this.hideCard}>\n                                                <span className=\"DashboardSection__skip-for-now\">\n                                                    Skip for now\n                      </span>\n                                            </Card.Link>\n                                        </LinkContainer>\n                                    </Col>\n                                </Card.Body>\n                            </Card>\n                            <SectionHeader2\n                                title={this.props.title}\n                                subtitle={this.props.subtitle}\n                                size={1}\n                                spaced={true}\n                                className=\"text-left\"\n                                onClick={this.showCreate}\n                            ></SectionHeader2>\n                            <Modal show={this.state.createPost} onHide={this.hideCreate}>\n                                <Form onSubmit={this.handleSubmit}>\n                                    <Form.Row>\n                                        <Col xs={10} className=\"ml-4 mt-3\">\n                                            <Form.Group controlId=\"post_title\">\n                                                <Form.Control\n                                                    type=\"text\"\n                                                    placeholder=\"I am looking for...\"\n                                                    onChange={this.changeTitleHandler}\n                                                ></Form.Control>\n                                            </Form.Group>\n                                        </Col>\n                                        <Col xs={10} className=\"ml-4\">\n                                            <Form.Group controlId=\"post_description\">\n                                                <Form.Control\n                                                    type=\"text\"\n                                                    placeholder=\"Type a description...\"\n                                                    as=\"textarea\"\n                                                    rows={4}\n                                                    onChange={this.changeDescriptionHandler}\n                                                ></Form.Control>\n                                            </Form.Group>\n                                        </Col>\n                                        <Col xs={10} className=\"ml-4\">\n                                            <Form.Group controlId=\"post_industry\">\n                                                <Form.Control\n                                                    as=\"select\"\n                                                    defaultValue=\"Select an industry\"\n                                                    onChange={this.changeIndustryHandler}\n                                                >\n                                                    <option>Select an industry</option>\n                                                    <option>Web Dev</option>\n                                                    <option>Design</option>\n                                                    <option>Product Management</option>\n                                                </Form.Control>\n                                            </Form.Group>\n                                        </Col>\n                                    </Form.Row>\n                                    <Form.Row className=\"mb-3\">\n                                        <Col xs={12} className=\"text-right\">\n                                            <Button\n                                                variant=\"purple\"\n                                                size=\"md\"\n                                                className=\"px-4 mr-4\"\n                                                type=\"submit\"\n                                            >\n                                                <span className=\"DashboardSection__post\">Post</span>\n                                            </Button>\n                                        </Col>\n                                    </Form.Row>\n                                </Form>\n                            </Modal>\n                            <HomeSelector\n                                items={this.state.posts}\n                                changeOrderFilter={this.changeOrderFilter}\n                            ></HomeSelector>\n                            <div\n                                className=\"mt-5 mx-auto text-center\"\n                                style={{\n                                    maxWidth: \"460px\",\n                                }}\n                            >\n                            </div>\n                        </Col>\n                        <Col className=\"d-none d-sm-block\"></Col>\n                    </Row>\n                </Container>\n            </Section>\n        );\n    }\n}\n\nexport default DashboardSection;\n"]},"metadata":{},"sourceType":"module"}